(()=>{"use strict";(()=>{const e=document.querySelector(".top-slider"),t=document.querySelectorAll(".item"),o=document.querySelector(".slick-dots");let l,c=document.querySelectorAll(".dot"),s=0;const a=(e,t,o)=>{e[t].classList.remove(o)},n=(e,t,o)=>{e[t].classList.add(o)},r=()=>{a(t,s,"item-active"),a(c,s,"slick-active"),s++,s>=t.length&&(s=0),n(t,s,"item-active"),n(c,s,"slick-active")},i=(e=1500)=>{l=setInterval(r,e)};t.length>0&&(o.innerHTML="",t.forEach(((e,t)=>{const l=document.createElement("li");l.classList.add("dot"),e.classList.contains("item-active")&&(l.classList.add("slick-active"),s=t),o.append(l)})),c=document.querySelectorAll(".dot"),e.addEventListener("click",(e=>{e.preventDefault(),e.target.matches(".dot")&&(a(t,s,"item-active"),a(c,s,"slick-active"),e.target.classList.contains("dot")&&c.forEach(((t,o)=>{e.target===t&&(s=o)})),s>=t.length&&(s=0),s<0&&(s=t.length-1),n(t,s,"item-active"),n(c,s,"slick-active"))}))),e.addEventListener("mouseenter",(e=>{e.target.matches(".dot")&&clearTimeout(l)}),!0),e.addEventListener("mouseleave",(e=>{e.target.matches(".dot")&&i(3e3)}),!0),i(3e3)})(),(()=>{const e=document.querySelector(".modal-overlay"),t=document.querySelector(".modal-callback");document.addEventListener("click",(o=>(o=>{(o.target.closest(".callback-btn")||o.target.closest(".button-services")||o.target.closest(".services-item"))&&(o.preventDefault(),t.style.display="block",e.style.display="block"),(o.target.closest(".modal-close")||o.target.closest(".modal-overlay"))&&(t.style.display="none",e.style.display="none")})(o)))})(),document.querySelector(".top-menu"),document.addEventListener("click",(e=>(e=>{if(e.target.closest(".top-menu")&&e.target.matches("ul>li>a")){e.preventDefault();const t=e.target.getAttribute("href");document.querySelector(t).scrollIntoView({behavior:"smooth",block:"start"})}})(e))),(()=>{const e=document.querySelector(".push70"),t=document.querySelector(".up"),o=document.querySelector(".up_href");window.addEventListener("scroll",(()=>{const o=document.documentElement.scrollTop;o<e.offsetTop?t.style.display="none":o>e.offsetTop&&(t.style.display="block")})),o.addEventListener("click",(e=>{e.preventDefault();const t=o.getAttribute("href");document.querySelector(t).scrollIntoView({behavior:"smooth",block:"start"})}))})(),document.querySelectorAll("form").forEach((e=>{e.addEventListener("input",(e=>{e.target.matches('input[name="fio"]')?e.target.value=e.target.value.replace(/[^А-ЯЁа-яё\s]/,""):e.target.matches('input[name="tel"]')&&(e.target.value=e.target.value.replace(/[^\d\+]/gi,""))}))})),(()=>{const e=document.querySelectorAll(".services-item"),t=document.querySelector(".arrow-right"),o=document.querySelector(".arrow-left");let l=3,c=0;e.forEach((e=>{c<l?c++:e.style.display="none"})),c=0,o.addEventListener("click",(()=>{c>0&&(c-=1,l-=1,e[c].style.display="block",e[l].style.display="none")})),t.addEventListener("click",(()=>{l<e.length&&(e[c++].style.display="none",e[l++].style.display="block")}))})(),(()=>{const e=document.querySelectorAll(".accordeon-item"),t=document.querySelectorAll(".accordeon-item_desc"),o=()=>{for(let o=0;o<e.length;o++)e[o].classList.contains("active")?t[o].style.display="block":t[o].style.display="none"};e.forEach((t=>{o(),t.addEventListener("click",(()=>{t.classList.contains("active")?(t.classList.remove("active"),o()):((()=>{for(let t of e)t.classList.remove("active")})(),t.classList.add("active"),o())}))}))})(),(({formId:e})=>{const t=document.getElementById(e),o=document.createElement("div"),l=document.querySelector(".modal-callback"),c=document.querySelector(".modal-overlay");try{if(!t)throw new Error("Верните форму на место");t.addEventListener("submit",(e=>{e.preventDefault(),(()=>{const e=t.querySelectorAll("input"),s=new FormData(t),a={};o.textContent="Загрузка...",t.append(o),s.forEach(((e,t)=>[a[t]=e])),(e=>{let t=!0;return e.forEach((e=>{"fio"==e.name&&e.value.length<2&&(console.log(e.name),t=!1),"tel"==e.name&&e.value.length<10&&(t=!1)})),t})(e)?(async e=>{await fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((e=>e.json()))})(a).then((t=>{o.textContent="Спасибо наш менеджер с вами свяжется",e.forEach((e=>{e.closest(".feedback")||(e.value="")}))})).catch((e=>{o.textContent="Ошибка..."})).finally((()=>{setTimeout((()=>o.textContent=""),2e3),setTimeout((()=>{l.style.display="none",c.style.display="none",document.body.style.overflow=""}),4e3)})):o.textContent="Данные не валидны!!!"})()}))}catch(e){console.log(e.message)}})({formId:"form1"})})();